(this["webpackJsonptodo-mui"]=this["webpackJsonptodo-mui"]||[]).push([[0],{114:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(9),o=a.n(c),s=a(17),u=a(25),i=a.n(u),l=a(43),d=a(24),b=a(73),p=a(159),j=a(148),m=a(150),h=a(151),x=a(152),f={App:{Paper:{padding:20,margin:"auto",textAlign:"center",width:500,backgroundColor:"transparent"},Header:{padding:10,margin:"auto",textAlign:"center",fontSize:40,backgroundColor:"transparent",color:"black"}},MenuToDo:{Icon:{marginLeft:"auto"},Paper:{margin:"auto",padding:10,display:"flex",alignItems:"center",marginTop:10,width:500},MenuTodo:{padding:10,margin:"0 auto",textAlign:"center",width:500,backgroundColor:"transparent"}},ToDo:{Icon:{float:"right"},Paper:{margin:"auto",padding:10,display:"flex",alignItems:"center",marginTop:10,width:500},Date:{fontSize:20,marginLeft:"auto"}}},g=a(6);var k=function(e){var t=e.done;return Object(g.jsxs)(p.a,{style:f.MenuToDo.MenuTodo,children:[Object(g.jsx)(j.a,{className:"all",onClick:function(){return t({it:"showAllTask"})},children:"All"}),Object(g.jsx)(j.a,{className:"done",onClick:function(){return t({it:"showComplateTask"})},children:"Done"}),Object(g.jsx)(j.a,{className:"undone",onClick:function(){return t({it:"showUncomplateTask"})},style:{marginRight:90},children:"Undone"}),Object(g.jsx)(p.a,{component:"span",className:"sort",children:"Sort by Date"}),Object(g.jsx)(m.a,{id:"up",color:"primary","aria-label":"up bottom",style:f.MenuToDo.Icon,onClick:function(){t({it:"sortByDate"})},children:Object(g.jsx)(h.a,{fontSize:"small"})}),Object(g.jsx)(m.a,{id:"up",color:"primary","aria-label":"down bottom",style:f.MenuToDo.Icon,onClick:function(){t({it:"sortByReversDate"})},children:Object(g.jsx)(x.a,{fontSize:"small"})})]})},O=a(153),v=a(154),y=a(162),T=a(155),D=a(156);var w=function(e){var t=e.todo,a=e.done,r=Object(n.useState)(t.name),c=Object(d.a)(r,2),o=c[0],s=c[1],u=/^[\w\s]{1,18}$/gm,i=function(e){var n=e.currentTarget.value;(s(n),13===e.keyCode)?(u.test(n)?a({it:"updateTask",complete:t.done,uuid:t.uuid,upTask:n}):s(t.name),document.activeElement.blur()):27===e.keyCodte&&(s(t.name),document.activeElement.blur())};return Object(g.jsx)(O.a,{item:!0,xs:12,children:Object(g.jsxs)(v.a,{elevation:2,style:f.ToDo.Paper,children:[Object(g.jsx)(y.a,{checked:!!t.done,onChange:function(){},onClick:function(){return a({it:"changeChecbox",userInput:t.name,complete:t.done,uuid:t.uuid})},color:"secondary"}),Object(g.jsx)(T.a,{value:o,disableUnderline:!0,onChange:i,onKeyDown:i,style:{width:"64%"}}),Object(g.jsx)(p.a,{component:"span",style:f.ToDo.Date,textAlign:"right",m:1,children:new Date(t.createdAt).toLocaleDateString()}),Object(g.jsx)(m.a,{style:f.ToDo.Icon,color:"secondary","aria-label":"Delete",onClick:function(){return a({it:"removeTask",uuid:t.uuid})},children:Object(g.jsx)(D.a,{fontSize:"small"})})]})})},C=a(158),A=a(165);var S=function(e){var t=e.done,a=Object(n.useState)(""),r=Object(d.a)(a,2),c=r[0],o=r[1],s=/^[\w\s]{0,25}$/gm;return Object(g.jsx)(A.a,{component:"form",onSubmit:function(e){e.preventDefault(),t({it:"addTask",userInput:c}),o("")},style:{display:"flex"},noValidate:!0,autoComplete:"off",children:Object(g.jsxs)(p.a,{style:{display:"flex"},children:[Object(g.jsx)(C.a,{type:"text",onChange:function(e){e.preventDefault();var t=e.currentTarget.value;s.test(t)&&o(e.currentTarget.value)},value:c,id:"outlined-basic",label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435...",variant:"outlined",style:{width:"80%"}}),Object(g.jsx)(j.a,{type:"submit",variant:"contained",color:"primary",style:{width:"20%"},children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"})]})})},I=a(164),M=a(160),P=a(161),z=a(157),B=Object(z.a)((function(e){return{root:{"& > *":{marginTop:e.spacing(2),display:"flex",margin:"auto",fontSize:20}},paginator:{margin:"auto",justifyContent:"center",padding:"10px"}}})),N=a(95);function L(e){return Object(g.jsx)(P.a,Object(b.a)({elevation:6,variant:"filled"},e))}var q=function(){var e=Object(n.useState)([]),t=Object(d.a)(e,2),a=t[0],r=(t[1],Object(n.useState)([])),c=Object(d.a)(r,2),o=c[0],u=c[1],b=Object(n.useState)(1),j=Object(d.a)(b,2),m=j[0],h=j[1],x=Object(n.useState)({er:!1,msg:null}),y=Object(d.a)(x,2),T=y[0],D=y[1],C=o.length,A=B(),P="https://todo-api-learning.herokuapp.com",z=function(){var e=Object(l.a)(i.a.mark((function e(t,a){var n,r,c,o,s,u,l,d,b,p,j,m,h,x,f,g,k,O,v,y,T;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.method,r=t.userId,c=void 0===r?"1":r,o=t.uuid,s=void 0===o?"":o,u=a.task,l=void 0===u?"":u,d=a.done,b=void 0!==d&&d,e.t0=n,e.next="get"===e.t0?5:"post"===e.t0?23:"patch"===e.t0?42:"delete"===e.t0?61:80;break;case 5:return p="/v1/tasks/".concat(c),j=P+p,e.prev=7,e.next=10,N.get(j);case 10:if(m=e.sent,console.log(m),200!==m.status){e.next=16;break}return e.abrupt("return",m.data);case 16:e.next=22;break;case 18:e.prev=18,e.t1=e.catch(7),console.error(e.t1),D({er:!0,msg:"error get request"});case 22:return e.abrupt("break",81);case 23:if(!l){e.next=41;break}return h="/v1/task/".concat(c),x=P+h,e.prev=26,e.next=29,N.post(x,{name:l,done:b});case 29:if(f=e.sent,console.log(f),200!==f.status){e.next=35;break}return e.abrupt("return",f.data);case 35:e.next=41;break;case 37:e.prev=37,e.t2=e.catch(26),console.error(e.t2),D({er:!0,msg:"error post request"});case 41:return e.abrupt("break",81);case 42:if(!s){e.next=60;break}return g="/v1/task/".concat(c,"/").concat(s),k=P+g,e.prev=45,e.next=48,N.patch(k,{name:l,done:b});case 48:if(O=e.sent,console.log(O),200!==O.status){e.next=54;break}return e.abrupt("return",O.data);case 54:e.next=60;break;case 56:e.prev=56,e.t3=e.catch(45),console.log(e.t3),D({er:!0,msg:"error patch request"});case 60:return e.abrupt("break",81);case 61:if(!s){e.next=79;break}return v="/v1/task/".concat(c,"/").concat(s),y=P+v,e.prev=64,e.next=67,N.delete(y,{uuid:s,name:l,done:b});case 67:if(T=e.sent,console.log(T),204!==T.status){e.next=73;break}return e.abrupt("return",T);case 73:e.next=79;break;case 75:e.prev=75,e.t4=e.catch(64),console.log(e.t4),D({er:!0,msg:"error delete request"});case 79:return e.abrupt("break",81);case 80:console.log("method? error | default");case 81:return e.abrupt("return",!0);case 82:case"end":return e.stop()}}),e,null,[[7,18],[26,37],[45,56],[64,75]])})));return function(t,a){return e.apply(this,arguments)}}(),q=function(){var e=Object(l.a)(i.a.mark((function e(t){var a,n,r,c,l,d,b,p,j,h,x,f,g,k,O,v,y,T,D,w;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.it,n=t.userInput,r=void 0===n?"":n,c=t.complete,l=void 0===c?-1:c,d=t.uuid,b=void 0===d?0:d,p=t.upTask,j=void 0===p?"":p,h=Object(s.a)(o),e.t0=a,e.next="addTask"===e.t0?5:"removeTask"===e.t0?13:"changeChecbox"===e.t0?22:"showAllTask"===e.t0?30:"showComplateTask"===e.t0?35:"showUncomplateTask"===e.t0?42:"sortByDate"===e.t0?48:"sortByReversDate"===e.t0?55:"updateTask"===e.t0?62:66;break;case 5:if(!r){e.next=12;break}return e.next=8,z({method:"post"},{task:r});case 8:return e.next=10,z({method:"get"},{});case 10:x=e.sent,h=Object(s.a)(x);case 12:return e.abrupt("break",67);case 13:if(!b){e.next=21;break}return e.next=16,z({method:"delete",uuid:b},{});case 16:return e.next=18,z({method:"get"},{});case 18:f=e.sent,h=Object(s.a)(f),(C-1)%5||E(1,m-1);case 21:return e.abrupt("break",67);case 22:if(!r||!b||-1===l){e.next=29;break}return e.next=25,z({method:"patch",uuid:b},{task:r,done:!l});case 25:return e.next=27,z({method:"get"},{});case 27:g=e.sent,h=Object(s.a)(g);case 29:return e.abrupt("break",67);case 30:return e.next=32,z({method:"get"},{});case 32:return k=e.sent,h=Object(s.a)(k),e.abrupt("break",67);case 35:return e.next=37,z({method:"get"},{});case 37:return O=e.sent,h=Object(s.a)(O.filter((function(e){return!0===e.done}))),E(1,1),e.abrupt("break",67);case 42:return e.next=44,z({method:"get"},{});case 44:return v=e.sent,h=Object(s.a)(v.filter((function(e){return!1===e.done}))),E(1,1),e.abrupt("break",67);case 48:return e.next=50,z({method:"get"},{});case 50:return y=e.sent,(T=Object(s.a)(y)).sort((function(e,t){return Date.parse(e.createdAt)-Date.parse(t.createdAt)})),h=Object(s.a)(T),e.abrupt("break",67);case 55:return e.next=57,z({method:"get"},{});case 57:return D=e.sent,(w=Object(s.a)(D)).sort((function(e,t){return Date.parse(t.createdAt)-Date.parse(e.createdAt)})),h=Object(s.a)(w),e.abrupt("break",67);case 62:if(!b||!j||-1===l){e.next=65;break}return e.next=65,z({method:"patch",uuid:o.uuid},{task:j,done:l});case 65:return e.abrupt("break",67);case 66:console.log("error done task");case 67:u(h);case 68:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=Object(n.useCallback)((function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;t<1&&t++,-1!==a&&t>a&&t--,h(t)}),[h]),F=function(e,t){"clickaway"!==t&&D(!1)},U=Object(n.useMemo)((function(){return Object(s.a)(o).slice(5*(m-1),5*(m-1)+5)}),[o,m]),H=Math.ceil(C/5)||0;return Object(n.useEffect)(Object(l.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=function(){return(t=Object(l.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z({method:"get"},{});case 2:t=e.sent,a=0;case 4:if(!(a<t.length)){e.next=10;break}return e.next=7,z({method:"delete",uuid:t[a].uuid},{});case 7:a++,e.next=4;break;case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)},function(){return t.apply(this,arguments)},e.next=4,z({method:"get"},{});case 4:a=e.sent,u(a);case 6:case"end":return e.stop()}}),e)}))),[]),Object(g.jsx)(p.a,{className:"App",children:Object(g.jsxs)(O.a,{container:!0,spacing:0,children:[Object(g.jsxs)(v.a,{style:f.App.Header,elevation:0,children:["ToDo: ",a.length]}),Object(g.jsxs)(O.a,{item:!0,xs:12,children:[Object(g.jsx)(v.a,{style:f.App.Paper,children:Object(g.jsx)(S,{done:q})}),Object(g.jsx)(k,{done:q}),U.map((function(e){return Object(g.jsx)(w,{todo:e,done:q},Date.parse(e.createdAt))})),Object(g.jsx)(p.a,{className:A.root,children:H>1&&Object(g.jsx)(M.a,{count:H,onChange:E,defaultPage:1,color:"primary",classes:{ul:A.paginator}})})]}),Object(g.jsx)(I.a,{open:T.er,autoHideDuration:3e3,onClose:F,children:Object(g.jsx)(L,{onClose:F,severity:"error",children:T.msg})})]})})},E=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,167)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;a(e),n(e),r(e),c(e),o(e)}))};o.a.render(Object(g.jsx)(r.a.StrictMode,{children:Object(g.jsx)(q,{})}),document.getElementById("root")),E()}},[[114,1,2]]]);
//# sourceMappingURL=main.9606a076.chunk.js.map